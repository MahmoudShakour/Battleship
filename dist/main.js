(()=>{"use strict";var e={91:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(81),r=n.n(i),a=n(645),s=n.n(a)()(r());s.push([e.id,"*{\n    padding: 0;\n    margin: 0;\n}\n\nbody,html{\n    height: 100%;\n}\n\n.root{\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n}\n\n.header,\n.footer{    \n    padding: 20px;\n    display: grid;\n    place-content: center;\n    font-size: 30px;\n    font-weight: bold;\n    background-color: darkblue;\n}\n\n.container{\n    flex: 1;\n    display: flex;\n    padding: 40px;\n    gap: 60px;\n}\n\n.container > div{\n    flex: 1;\n}\n\n.message{\n    padding: 30px;\n    display: grid;\n    place-content: center;\n    font-size: 25px;\n    font-weight: bold;\n}\n\n.grid{\n    border: 1px solid black;\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n}\n\n.row{\n    flex: 1;\n    display: flex;\n}\n\n.cell{\n    flex: 1;\n    border: 1px solid black;\n    display: grid;\n    place-content: center;\n}\n\n.cell:hover{\n    background-color: red;\n}\n",""]);const o=s},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",i=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),i&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),i&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,i,r,a){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(i)for(var o=0;o<this.length;o++){var l=this[o][0];null!=l&&(s[l]=!0)}for(var c=0;c<e.length;c++){var h=[].concat(e[c]);i&&s[h[0]]||(void 0!==a&&(void 0===h[5]||(h[1]="@layer".concat(h[5].length>0?" ".concat(h[5]):""," {").concat(h[1],"}")),h[5]=a),n&&(h[2]?(h[1]="@media ".concat(h[2]," {").concat(h[1],"}"),h[2]=n):h[2]=n),r&&(h[4]?(h[1]="@supports (".concat(h[4],") {").concat(h[1],"}"),h[4]=r):h[4]="".concat(r)),t.push(h))}},t}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var t=[];function n(e){for(var n=-1,i=0;i<t.length;i++)if(t[i].identifier===e){n=i;break}return n}function i(e,i){for(var a={},s=[],o=0;o<e.length;o++){var l=e[o],c=i.base?l[0]+i.base:l[0],h=a[c]||0,p="".concat(c," ").concat(h);a[c]=h+1;var d=n(p),u={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==d)t[d].references++,t[d].updater(u);else{var f=r(u,i);i.byIndex=o,t.splice(o,0,{identifier:p,updater:f,references:1})}s.push(p)}return s}function r(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var a=i(e=e||[],r=r||{});return function(e){e=e||[];for(var s=0;s<a.length;s++){var o=n(a[s]);t[o].references--}for(var l=i(e,r),c=0;c<a.length;c++){var h=n(a[c]);0===t[h].references&&(t[h].updater(),t.splice(h,1))}a=l}}},569:e=>{var t={};e.exports=function(e,n){var i=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,r&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(i,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var a=t[i]={id:i,exports:{}};return e[i](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0;var i={};(()=>{n.d(i,{w:()=>b,X:()=>w});class e{constructor(e,t){this._i=e,this._j=t,this._hit=!1}hit(){this._hit=!0}isHit(){return this._hit}get i(){return this._i}set i(e){this._i=e}get j(){return this._j}set j(e){this._j=e}static areEqual(e,t){return e.i===t.i&&e.j===t.j}}class t{_board=[];constructor(){for(let t=0;t<10;t++){let n=[];for(let i=0;i<10;i++){let r=new e(t,i);n.push(r)}this._board.push(n)}this._ships=[]}addShip(e){this._ships.push(e)}areAllShipsSunk(){for(let e=0;e<this._ships.length;e++)if(!this._ships[e].isSunk())return!1;return!0}canPlaceShip(e,t,n){for(let i=t;i<t+n;i++)if(e<0||i<0||e>=10||i>=10||this._board[e][i].isHit())return console.log(this._board[e][i].isHit()),!1;return!0}receiveAttack(e,t){this._board[e][t].hit=!0;let n=!1;for(let i=0;i<this._ships.length;i++)n=n||this._ships[i].hit(e,t);return n}get board(){return this._board}set board(e){this._board=e}get ships(){return this._ships}set ships(e){this._ships=e}}class r{constructor(e,t){this._name=e,this._board=t}get name(){return this._name}set name(e){this._name=e}get board(){return this._board}set board(e){this._board=e}}class a{_locations=[];constructor(t,n,i){for(let i=t.j;i<t.j+n;i++)this._locations.push(new e(t.i,i));this._length=n,this._numberOfHits=0}hit(t,n){let i=new e(t,n);for(let t=0;t<this.length;t++)if(!this._locations[t].isHit()&&e.areEqual(this._locations[t],i))return this._numberOfHits++,this._locations[t].hit(),!0;return!1}isSunk(){return this._length===this._numberOfHits}get locations(){return this._locations}set locations(e){this._locations=e}get length(){return this._length}set length(e){this._length=e}}class s{static shipLength=[2,3,4,4,5];static PlayerOneNextShip=0;static PlayerTwoNextShip=0;static playerToBeAttacked=1;static _playerOne=new r("mahmoud",new t);static _playerTwo=new r("computer",new t);static finishPlacingShips=!1;static attack(e,t,n){let i,r=!1,a=!1;return s.playerToBeAttacked!==n?{isHit:r,areAllSunk:a,legal:!1}:(i=1===n?s._playerTwo:s._playerOne,r=i.board.receiveAttack(e,t),a=i.board.areAllShipsSunk(),s.playerToBeAttacked=1-s.playerToBeAttacked,{isHit:r,areAllSunk:a,legal:!0})}static finishedPlacingShips(){return t.finishPlacingShips}static placeShips(n,i,r){return console.log("hi"),0===r?5===s.PlayerOneNextShip?{placeShips:!1,full:!0}:s._playerOne.board.canPlaceShip(n,i,s.shipLength[s.PlayerOneNextShip])?(s._playerOne.board.addShip(new a(new e(n,i),s.shipLength[s.PlayerOneNextShip],!0)),s.PlayerOneNextShip++,5===s.PlayerTwoNextShip&&5===s.PlayerOneNextShip&&(t.finishPlacingShips=!0),{placeShips:!0,full:!1}):{placeShips:!1,full:!1}:1===r?5===s.PlayerTwoNextShip?{placeShips:!1,full:!0}:s._playerTwo.board.canPlaceShip(n,i,s.shipLength[s.PlayerTwoNextShip])?(s._playerTwo.board.addShip(new a(new e(n,i),s.shipLength[s.PlayerTwoNextShip],!0)),s.PlayerTwoNextShip++,5===s.PlayerTwoNextShip&&5===s.PlayerTwoNextShip&&(t.finishPlacingShips=!0),{placeShips:!0,full:!1}):{placeShips:!1,full:!1}:void 0}}var o=n(379),l=n.n(o),c=n(795),h=n.n(c),p=n(569),d=n.n(p),u=n(565),f=n.n(u),_=n(216),g=n.n(_),m=n(589),y=n.n(m),v=n(91),x={};x.styleTagTransform=y(),x.setAttributes=f(),x.insert=d().bind(null,"head"),x.domAPI=h(),x.insertStyleElement=g(),l()(v.Z,x),v.Z&&v.Z.locals&&v.Z.locals;class S{static initialize(){this._root=this._getElement(".root"),this._header=this._createElement("div","header"),this._message=this._createElement("div","message"),this._container=this._createElement("div","container"),this._playerOneGrid=this._createElement("div","player-one-grid"),this._playerTwoGrid=this._createElement("div","player-two-grid"),this._footer=this._createElement("div","footer"),this._container.appendChild(this._playerOneGrid),this._container.appendChild(this._playerTwoGrid),this._root.appendChild(this._header),this._root.appendChild(this._message),this._root.appendChild(this._container),this._root.appendChild(this._footer),this._header.textContent="BattleShip",this._footer.textContent="Copyright Â© 2023 MahmoudShakour",this._message.textContent="choose ships places!",this._playerOneGrid.appendChild(this._createGrid()),this._playerTwoGrid.appendChild(this._createGrid())}static _createElement(e,t){const n=document.createElement(e);return n.className=t,n}static _getElement(e){return document.querySelector(e)}static _createGrid(){let e=this._createElement("div","grid");for(let t=0;t<10;t++){let n=this._createRow(t);e.appendChild(n)}return e}static _createRow(e){let t=this._createElement("div","row");for(let n=0;n<10;n++){let i=this._createElement("div","cell");i.id=10*e+n,t.appendChild(i)}return t}static activateAttacking(e,t){document.querySelectorAll(".cell").forEach((n=>{n.addEventListener("click",(()=>{t()?"player-two-grid"===n.parentElement.parentElement.parentElement.className&&""===n.textContent?S._changeCellState(e,n,1):"player-one-grid"===n.parentElement.parentElement.parentElement.className&&""===n.textContent&&S._changeCellState(e,n,0):console.log("right")}))}))}static _changeCellState(e,t,n){let i=Number(t.id),r=e(Math.floor(i/10),i%10,n);r.legal?r.areAllSunk?(this._message.textContent="Game is over.",t.textContent="1",t.style.backgroundColor="red"):r.isHit?(this._message.textContent="it is a hit!",t.textContent="1",t.style.backgroundColor="red"):(this._message.textContent="it is a miss!",t.textContent="0",t.style.backgroundColor="blue"):this._message.textContent="this is not a legal move!"}static chooseShipLocations(e,t){document.querySelectorAll(".cell").forEach((n=>{let i=Number(n.id);n.addEventListener("click",(()=>{if(t())return;let r;"player-two-grid"===n.parentElement.parentElement.parentElement.className?r=1:"player-one-grid"===n.parentElement.parentElement.parentElement.className&&(r=0);let a=e(Math.floor(i/10),i%10,r);console.log(a),a.full?this._message.textContent="you placed all the ships":a.placeShips?this._message.textContent="ship is placed well":this._message.textContent="choosen place is not legal",t()&&(S.activateAttacking(b(),w()),this._activated=!0,this._message.textContent="Begin shooting")}))}))}}function b(){return s.attack}function w(){return s.finishedPlacingShips}S.initialize(),S.chooseShipLocations(s.placeShips,s.finishedPlacingShips)})()})();